<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Bunker Party</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>

<body class="bg-gray-900 text-white min-h-screen p-3 sm:p-6">
<div class="w-full max-w-6xl mx-auto space-y-4 sm:space-y-6">

    <h1 id="title" class="text-2xl sm:text-3xl font-bold text-center">Bunker Party</h1>

    <!-- MAIN -->
    <div id="main" class="max-w-md mx-auto space-y-3">
        <input id="name" class="w-full px-3 py-3 text-black rounded" placeholder="Your name"/>

        <select id="lang" class="w-full px-3 py-3 text-black rounded">
            <option value="en">English</option>
            <option value="ru">Русский</option>
            <option value="bg">Български</option>
        </select>

        <button id="joinOrCreate" class="w-full min-h-[44px] bg-blue-600 py-2 rounded font-semibold">
            Join game
        </button>

        <div id="mainError"
             class="hidden bg-red-900/40 border border-red-700 text-red-200 rounded p-2 text-sm">
        </div>
    </div>

    <!-- GAME -->
    <div id="game" class="hidden space-y-4">

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">

            <!-- STATUS -->
            <div class="bg-gray-800 rounded p-4 space-y-2 order-1 lg:order-2">
                <div id="round" class="text-lg font-semibold"></div>
                <div id="bunker" class="bg-gray-900 rounded p-3 text-sm"></div>

                <div id="phase" class="text-sm text-gray-300"></div>

                <button id="startBtn"
                        class="hidden w-full min-h-[44px] bg-indigo-600 hover:bg-indigo-500 py-2 rounded font-semibold">
                </button>

                <div id="waiting"
                     class="hidden text-center text-sm text-gray-300 bg-gray-900 rounded p-2">
                </div>

                <div id="minPlayersHint"
                     class="hidden text-center text-sm text-amber-200 bg-amber-900/40 border border-amber-700 rounded p-2">
                </div>

                <button id="confirm"
                        class="hidden w-full min-h-[48px] bg-emerald-600 hover:bg-emerald-500 active:bg-emerald-700 py-3 px-4 rounded font-semibold text-base">
                </button>

                <!-- VOTE PANEL -->
                <div id="votePanel" class="hidden bg-gray-900 rounded p-3 space-y-2">
                    <div id="voteTitle" class="font-semibold text-sm">Vote to eliminate</div>
                    <div id="voteHint" class="text-xs text-gray-400"></div>
                    <div id="voteList" class="flex flex-wrap gap-2"></div>
                </div>

                <div id="progress" class="text-xs text-gray-400"></div>

                <div id="gameOver"
                     class="hidden text-center bg-gray-900 rounded p-3 text-sm">
                </div>

                <div id="youOut" class="hidden text-center bg-red-900/40 border border-red-700 text-red-200 rounded p-2 text-sm"></div>
            </div>

            <!-- ROOM -->
            <div class="bg-gray-800 rounded p-4 space-y-2 order-2 lg:order-1">
                <div id="roomCodeLabel" class="text-sm text-gray-400">Room code</div>

                <div id="roomCode" class="font-mono text-2xl tracking-widest"></div>

                <div class="flex items-center gap-2">
                    <input id="shareLink"
                           readonly
                           class="flex-1 px-2 py-1 text-xs text-black rounded bg-gray-100 font-mono"
                           value=""/>
                    <button id="copyLinkBtn"
                            class="min-h-[32px] bg-gray-700 px-2 py-1 rounded text-xs whitespace-nowrap">
                        Copy
                    </button>
                </div>

                <div id="qrcode" class="bg-white p-2 rounded mx-auto w-fit"></div>

                <div id="players" class="text-sm text-gray-300"></div>
            </div>

            <!-- LOG -->
            <div class="bg-gray-800 rounded p-4 space-y-2 order-4 lg:order-3">
                <div id="logTitle" class="font-semibold">Game log</div>
                <div id="log"
                     class="text-sm text-gray-300 space-y-1 max-h-40 sm:max-h-64 overflow-y-auto">
                </div>
            </div>
        </div>

        <!-- YOUR CARDS -->
        <div class="bg-gray-800 rounded p-4">
            <div id="yourCardsTitle" class="font-semibold mb-3">Your cards</div>
            <div id="yourCards"
                 class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
            </div>
        </div>

        <!-- REVEALED -->
        <div class="bg-gray-800 rounded p-4">
            <div id="revealedCardsTitle" class="font-semibold mb-3">Revealed cards</div>
            <div id="revealedBoard"
                 class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            </div>
        </div>

    </div>
</div>

<script type="module" src="/static/app.js"></script>
</body>
</html>
